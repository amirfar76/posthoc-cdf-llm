run:
  name: spider_decoding_temps_iad_bon_smallT
  seed: 0
  out_dir: runs
  cache_dir: runs_cache_v2

data:
  data_root: data/spider
  dataset: spider
  split: dev
  max_examples: 20

llm:
  model_id: Qwen/Qwen2.5-7B-Instruct
  max_new_tokens: 160
  # default decoding params (can be overridden per-strategy below)
  temperature: 0.7
  top_p: 0.95
  do_sample_single: false

verifier:
  # Use Spider official component-level F1 as reward in [0,1]
  reward_type: spider_component_f1

strategies:
  # --- Greedy single decode (1) ---
  - name: single_greedy
    type: single

  # --- Optional: sampled single-turn baselines (keep if you want) ---
  - {name: single_t0p3_p0p90, type: single, do_sample: true, temperature: 0.3, top_p: 0.90}
  - {name: single_t0p3_p0p95, type: single, do_sample: true, temperature: 0.3, top_p: 0.95}
  - {name: single_t0p7_p0p90, type: single, do_sample: true, temperature: 0.7, top_p: 0.90}
  - {name: single_t0p7_p0p95, type: single, do_sample: true, temperature: 0.7, top_p: 0.95}
  - {name: single_t1p0_p0p90, type: single, do_sample: true, temperature: 1.0, top_p: 0.90}
  - {name: single_t1p0_p0p95, type: single, do_sample: true, temperature: 1.0, top_p: 0.95}

  # --- BoN family: n in {2,4,6} × (temperature, top_p) ---
  - {name: bon2_t0p3_p0p90, type: bon, n: 2, temperature: 0.3, top_p: 0.90}
  - {name: bon2_t0p3_p0p95, type: bon, n: 2, temperature: 0.3, top_p: 0.95}
  - {name: bon2_t0p7_p0p90, type: bon, n: 2, temperature: 0.7, top_p: 0.90}
  - {name: bon2_t0p7_p0p95, type: bon, n: 2, temperature: 0.7, top_p: 0.95}
  - {name: bon2_t1p0_p0p90, type: bon, n: 2, temperature: 1.0, top_p: 0.90}
  - {name: bon2_t1p0_p0p95, type: bon, n: 2, temperature: 1.0, top_p: 0.95}

  - {name: bon4_t0p3_p0p90, type: bon, n: 4, temperature: 0.3, top_p: 0.90}
  - {name: bon4_t0p3_p0p95, type: bon, n: 4, temperature: 0.3, top_p: 0.95}
  - {name: bon4_t0p7_p0p90, type: bon, n: 4, temperature: 0.7, top_p: 0.90}
  - {name: bon4_t0p7_p0p95, type: bon, n: 4, temperature: 0.7, top_p: 0.95}
  - {name: bon4_t1p0_p0p90, type: bon, n: 4, temperature: 1.0, top_p: 0.90}
  - {name: bon4_t1p0_p0p95, type: bon, n: 4, temperature: 1.0, top_p: 0.95}

  - {name: bon6_t0p3_p0p90, type: bon, n: 6, temperature: 0.3, top_p: 0.90}
  - {name: bon6_t0p3_p0p95, type: bon, n: 6, temperature: 0.3, top_p: 0.95}
  - {name: bon6_t0p7_p0p90, type: bon, n: 6, temperature: 0.7, top_p: 0.90}
  - {name: bon6_t0p7_p0p95, type: bon, n: 6, temperature: 0.7, top_p: 0.95}
  - {name: bon6_t1p0_p0p90, type: bon, n: 6, temperature: 1.0, top_p: 0.90}
  - {name: bon6_t1p0_p0p95, type: bon, n: 6, temperature: 1.0, top_p: 0.95}

  # --- IAD family: t in {2,4,6} × (temperature, top_p) ---
  - {name: iad2_t0p3_p0p90, type: iad, t: 2, temperature: 0.3, top_p: 0.90}
  - {name: iad2_t0p3_p0p95, type: iad, t: 2, temperature: 0.3, top_p: 0.95}
  - {name: iad2_t0p7_p0p90, type: iad, t: 2, temperature: 0.7, top_p: 0.90}
  - {name: iad2_t0p7_p0p95, type: iad, t: 2, temperature: 0.7, top_p: 0.95}
  - {name: iad2_t1p0_p0p90, type: iad, t: 2, temperature: 1.0, top_p: 0.90}
  - {name: iad2_t1p0_p0p95, type: iad, t: 2, temperature: 1.0, top_p: 0.95}

  - {name: iad4_t0p3_p0p90, type: iad, t: 4, temperature: 0.3, top_p: 0.90}
  - {name: iad4_t0p3_p0p95, type: iad, t: 4, temperature: 0.3, top_p: 0.95}
  - {name: iad4_t0p7_p0p90, type: iad, t: 4, temperature: 0.7, top_p: 0.90}
  - {name: iad4_t0p7_p0p95, type: iad, t: 4, temperature: 0.7, top_p: 0.95}
  - {name: iad4_t1p0_p0p90, type: iad, t: 4, temperature: 1.0, top_p: 0.90}
  - {name: iad4_t1p0_p0p95, type: iad, t: 4, temperature: 1.0, top_p: 0.95}

  - {name: iad6_t0p3_p0p90, type: iad, t: 6, temperature: 0.3, top_p: 0.90}
  - {name: iad6_t0p3_p0p95, type: iad, t: 6, temperature: 0.3, top_p: 0.95}
  - {name: iad6_t0p7_p0p90, type: iad, t: 6, temperature: 0.7, top_p: 0.90}
  - {name: iad6_t0p7_p0p95, type: iad, t: 6, temperature: 0.7, top_p: 0.95}
  - {name: iad6_t1p0_p0p90, type: iad, t: 6, temperature: 1.0, top_p: 0.90}
  - {name: iad6_t1p0_p0p95, type: iad, t: 6, temperature: 1.0, top_p: 0.95}

selection:
  M: 2
  delta: 0.1
  replications: 200
  cal_frac: 0.5

plots:
  make_example_band_plot: true
  example_strategy_rank: 1
